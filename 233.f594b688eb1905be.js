"use strict";(self.webpackChunkAlibaba_Pro=self.webpackChunkAlibaba_Pro||[]).push([[233],{6233:(J,U,i)=>{i.r(U),i.d(U,{UsersModule:()=>k});var _=i(6895),l=i(3599),s=i(433),T=i(9483),Z=i(7443),c=i(2340),u=i(6211),t=i(1571),v=i(7359),A=i(4691);function y(r,e){1&r&&(t.TgZ(0,"div",20),t._uU(1," First Name is required (3\u201310 characters) "),t.qZA())}function I(r,e){1&r&&(t.TgZ(0,"div",20),t._uU(1," Last Name is required (3\u201310 characters) "),t.qZA())}function C(r,e){1&r&&(t.TgZ(0,"div",20),t._uU(1," Valid Email is required "),t.qZA())}function w(r,e){if(1&r&&(t.TgZ(0,"option",21),t._uU(1),t.qZA()),2&r){const p=e.$implicit;t.Q6J("value",p.id),t.xp6(1),t.Oqu(p.name)}}function P(r,e){1&r&&(t.TgZ(0,"div",20),t._uU(1," User Type is required "),t.qZA())}function N(r,e){1&r&&(t.TgZ(0,"div",20),t._uU(1," Password must contain uppercase, lowercase, number & symbol "),t.qZA())}function F(r,e){1&r&&(t.TgZ(0,"div",20),t._uU(1," Must match Password "),t.qZA())}let O=(()=>{const e=class{constructor(o,a,n,d){this._activeRoute=o,this._toaster=a,this._http=n,this._router=d,this.userId=0,this.submitted=!1,this.apiUrl=Z.x.BASE_API_PATH||"",this.objUserType=[],this.buttonText="Register",this._activeRoute.queryParams.subscribe(m=>{this.userId=m.userId})}ngOnInit(){this.setRegisterForm(),this.getUserTypes(),this.userId>0&&null!=this.userId&&(this.buttonText="Update",this.dbOps=u.m.update,this.getUserById(this.userId))}setRegisterForm(){this.dbOps=u.m.create,this.buttonText="Add",this.addUserForm=new s.cw({id:new s.NI(0),firstName:new s.NI("",s.kI.compose([s.kI.required,s.kI.minLength(3),s.kI.maxLength(10)])),lastName:new s.NI("",s.kI.compose([s.kI.required,s.kI.minLength(3),s.kI.maxLength(10)])),email:new s.NI("",s.kI.compose([s.kI.required,s.kI.email])),userTypeId:new s.NI("",s.kI.required),password:new s.NI("",s.kI.compose([s.kI.required,s.kI.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/)])),confirmPassword:new s.NI("",s.kI.required)},(0,T.Sk)("password","confirmPassword"))}get ctrl(){return this.addUserForm.controls}getUserById(o){this._http.get(c.N.BASE_API_PATH+"UserMaster/GetbyId/"+o).subscribe(a=>{a.isSuccess?this.addUserForm.patchValue(a.data):this._toaster.error(a.errors[0],"Add User")})}getUserTypes(){this._http.get(c.N.BASE_API_PATH+"UserType/GetAll").subscribe(o=>{o.isSuccess?this.objUserType=o.data:this._toaster.error(o.errors[0],"Add User")})}register(){switch(this.submitted=!0,this.dbOps){case u.m.create:this._http.postImage(c.N.BASE_API_PATH+"UserMaster/Save/",this.addUserForm.value).subscribe(o=>{o.isSuccess?(this._toaster.success("Record Saved","Add User"),this.resetForm(),this._router.navigate(["users/list-user"]),this.getUserTypes()):this._toaster.error(o.errors[0],"Add User")});break;case u.m.update:this._http.postImage(c.N.BASE_API_PATH+"UserMaster/Update/",this.addUserForm.value).subscribe(o=>{o.isSuccess?(this._toaster.success("Record Saved","Add User"),this.resetForm(),this._router.navigate(["users/list-user"]),this.getUserTypes()):this._toaster.error(o.errors[0],"UserMaster Master")})}}resetForm(){this.addUserForm.reset(),this.submitted=!1,this.buttonText="add",this.dbOps=u.m.create}cancel(){this.resetForm(),this._router.navigate(["user/list-user"])}};let r=e;return e.\u0275fac=function(a){return new(a||e)(t.Y36(l.gz),t.Y36(v._W),t.Y36(A.O),t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-users"]],decls:44,vars:10,consts:[[1,"container","py-4"],[1,"row","justify-content-center"],[1,"col-lg-6","col-md-8"],[1,"card","user-card","shadow-sm"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","firstName",1,"form-control"],["class","text-danger small",4,"ngIf"],["type","text","formControlName","lastName",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["formControlName","userTypeId",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","password","formControlName","password",1,"form-control"],["type","password","formControlName","confirmPassword",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"text-danger","small"],[3,"value"]],template:function(a,n){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),t._uU(6,"Add User"),t.qZA()(),t.TgZ(7,"div",6)(8,"form",7),t.NdJ("ngSubmit",function(){return n.register()}),t.TgZ(9,"div",8)(10,"label",9),t._uU(11,"First Name"),t.qZA(),t._UZ(12,"input",10),t.YNc(13,y,2,0,"div",11),t.qZA(),t.TgZ(14,"div",8)(15,"label",9),t._uU(16,"Last Name"),t.qZA(),t._UZ(17,"input",12),t.YNc(18,I,2,0,"div",11),t.qZA(),t.TgZ(19,"div",8)(20,"label",9),t._uU(21,"Email"),t.qZA(),t._UZ(22,"input",13),t.YNc(23,C,2,0,"div",11),t.qZA(),t.TgZ(24,"div",8)(25,"label",9),t._uU(26,"User Type"),t.qZA(),t.TgZ(27,"select",14)(28,"option",15),t._uU(29,"-- Select User Type --"),t.qZA(),t.YNc(30,w,2,2,"option",16),t.qZA(),t.YNc(31,P,2,0,"div",11),t.qZA(),t.TgZ(32,"div",8)(33,"label",9),t._uU(34,"Password"),t.qZA(),t._UZ(35,"input",17),t.YNc(36,N,2,0,"div",11),t.qZA(),t.TgZ(37,"div",8)(38,"label",9),t._uU(39,"Confirm Password"),t.qZA(),t._UZ(40,"input",18),t.YNc(41,F,2,0,"div",11),t.qZA(),t.TgZ(42,"button",19),t._uU(43),t.qZA()()()()()()()),2&a){let d,m,h,x,b,f;t.xp6(8),t.Q6J("formGroup",n.addUserForm),t.xp6(5),t.Q6J("ngIf",(null==(d=n.addUserForm.get("firstName"))?null:d.touched)&&(null==(d=n.addUserForm.get("firstName"))?null:d.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(m=n.addUserForm.get("lastName"))?null:m.touched)&&(null==(m=n.addUserForm.get("lastName"))?null:m.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(h=n.addUserForm.get("email"))?null:h.touched)&&(null==(h=n.addUserForm.get("email"))?null:h.invalid)),t.xp6(7),t.Q6J("ngForOf",n.objUserType),t.xp6(1),t.Q6J("ngIf",n.submitted&&(null==(x=n.addUserForm.get("userTypeId"))?null:x.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(b=n.addUserForm.get("password"))?null:b.touched)&&(null==(b=n.addUserForm.get("password"))?null:b.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(f=n.addUserForm.get("confirmPassword"))?null:f.touched)&&(null==(f=n.addUserForm.get("confirmPassword"))?null:f.invalid)),t.xp6(1),t.Q6J("disabled",n.addUserForm.invalid),t.xp6(1),t.hij(" ",n.buttonText," ")}},dependencies:[_.sg,_.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u],styles:[".action-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:4px 6px;font-size:16px;display:inline-flex;align-items:center}.action-btn[_ngcontent-%COMP%]:hover{opacity:.8}.action-btn.edit-btn[_ngcontent-%COMP%]{color:#28a745}.action-btn.delete-btn[_ngcontent-%COMP%]{color:#dc3545}.user-card[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden}.card-header[_ngcontent-%COMP%]{padding:18px 20px!important;font-size:18px;font-weight:600}.card-body[_ngcontent-%COMP%]{padding:25px 28px!important}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{height:46px;border-radius:7px;border:1px solid #d2d6da;background-color:#fff;transition:all .25s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .18rem #0d6efd26}.form-label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:6px;color:#333}.text-danger[_ngcontent-%COMP%]{margin-top:3px;font-weight:500}button[type=submit][_ngcontent-%COMP%]{height:48px;font-size:16px;border-radius:8px;font-weight:600;transition:.3s ease}button[type=submit][_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0d6efd40}@media (max-width: 576px){.card-body[_ngcontent-%COMP%]{padding:18px!important}}"]}),r})();var g=i(9585);function M(r,e){if(1&r){const p=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){const n=t.CHM(p).row,d=t.oxw();return t.KtG(d.edit(n.id))}),t.qZA(),t.TgZ(1,"button",18),t.NdJ("click",function(){const n=t.CHM(p).row,d=t.oxw();return t.KtG(d.deleteData(n.id))}),t.qZA()}}const q=[{path:"",children:[{path:"list-user",component:(()=>{const e=class{constructor(o,a,n){this._http=o,this._toaster=a,this._router=n,this.objRows=[]}ngOnInit(){this.getData()}getData(){this._http.get(c.N.BASE_API_PATH+"UserMaster/GetAll").subscribe(o=>{o.isSuccess?this.objRows=o.data:this._toaster.error(o.errors[0],"Size Master")})}edit(o){this._router.navigate(["/users/add-user"],{queryParams:{userId:o}})}deleteData(o){this._http.post(c.N.BASE_API_PATH+"UserMaster/Delete/",{id:o}).subscribe(n=>{n.isSuccess?(this._toaster.success("Record Deleted Successfully","Size Master"),this.getData()):this._toaster.error(n.errors[0],"Size Master")})}};let r=e;return e.\u0275fac=function(a){return new(a||e)(t.Y36(A.O),t.Y36(v._W),t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-users"]],decls:20,vars:6,consts:[[1,"container-fluid","brand-logo-page"],[1,"card","shadow-sm"],[1,"col-sm-12"],[1,"card-header","bg-primary","text-white"],[1,"card-body"],[1,"btn-popup","pull-right"],["routerLink","/users/add-user",1,"btn","btn-secondary"],["id","batchDelete",1,"category-table","custom-datatable","transaction-datatable","useimage"],[1,"table","responsive"],[1,"bootstrap",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit"],["name","First Name"],["name","Last Name"],["name","Email"],["name","User Type"],["name","created Data","prop","createdOn"],["name","Actions"],["ngx-datatable-cell-template",""],["type","button",1,"action-btn","edit-btn","fa-solid","fa-pen-to-square",3,"click"],["type","button",1,"action-btn","delete-btn","fa-solid","fa-trash",3,"click"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),t._uU(5,"User List"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"a",6),t._uU(9," Add User "),t.qZA()(),t.TgZ(10,"div",7)(11,"div",8)(12,"ngx-datatable",9),t._UZ(13,"ngx-datatable-column",10)(14,"ngx-datatable-column",11)(15,"ngx-datatable-column",12)(16,"ngx-datatable-column",13)(17,"ngx-datatable-column",14),t.TgZ(18,"ngx-datatable-column",15),t.YNc(19,M,2,0,"ng-template",16),t.qZA()()()()()()()()),2&a&&(t.xp6(12),t.Q6J("rows",n.objRows)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",5))},dependencies:[l.rH,g.nE,g.UC,g.vq],styles:[".action-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:4px 6px;font-size:16px;display:inline-flex;align-items:center}.action-btn[_ngcontent-%COMP%]:hover{opacity:.8}.action-btn.edit-btn[_ngcontent-%COMP%]{color:#28a745}.action-btn.delete-btn[_ngcontent-%COMP%]{color:#dc3545}.brand-logo-page[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:15px 20px}"]}),r})()},{path:"add-user",component:O}]}];let S=(()=>{const e=class{};let r=e;return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(q),l.Bz]}),r})(),k=(()=>{const e=class{};let r=e;return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[_.ez,S,s.UX,g.xD]}),r})()}}]);