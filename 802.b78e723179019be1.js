"use strict";(self.webpackChunkAlibaba_Pro=self.webpackChunkAlibaba_Pro||[]).push([[802],{4802:(A,d,s)=>{s.r(d),s.d(d,{SettingsModule:()=>C});var g=s(6895),m=s(3599),p=s(7443),f=s(2340),t=s(1571),h=s(4691),u=s(7359),l=s(9453);const b=["file"];function x(n,e){if(1&n&&(t.TgZ(0,"h5",25),t._uU(1,"Profile Details"),t.qZA(),t.TgZ(2,"table",26)(3,"tbody")(4,"tr")(5,"td",27),t._uU(6,"First Name:"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA()(),t.TgZ(9,"tr")(10,"td",27),t._uU(11,"Last Name:"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA()(),t.TgZ(14,"tr")(15,"td",27),t._uU(16,"Email:"),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA()()()()),2&n){const r=t.oxw();t.xp6(8),t.Oqu(r.firstName),t.xp6(5),t.Oqu(r.lastName),t.xp6(5),t.Oqu(r.emailId)}}function v(n,e){if(1&n&&(t.TgZ(0,"div",33),t._UZ(1,"img",34),t.qZA()),2&n){const r=t.oxw(2);t.xp6(1),t.Q6J("src",r.addedImagePath,t.LSH)}}function P(n,e){if(1&n){const r=t.EpF();t.TgZ(0,"div",28)(1,"input",29,30),t.NdJ("change",function(){t.CHM(r);const a=t.MAs(2),o=t.oxw();return t.KtG(o.upload(a.files))}),t.qZA(),t.TgZ(3,"button",31),t.NdJ("click",function(){t.CHM(r);const a=t.oxw();return t.KtG(a.changePic())}),t._uU(4," Update "),t.qZA(),t.YNc(5,v,2,1,"div",32),t.qZA()}if(2&n){const r=t.oxw();t.xp6(5),t.Q6J("ngIf",r.addedImagePath)}}const Z=[{path:"",children:[{path:"profile",component:(()=>{const e=class{constructor(i,a){this._http=i,this._toaster=a,this.userImage="assets/images/user.webp",this.fullName="",this.emailId="",this.firstName="",this.lastName="",this.addedImagePath="assets/images/noimage.png",this.fileToUpload=null,this.userDetails={}}ngOnInit(){this.userDetails=JSON.parse(localStorage.getItem("userDetails")||"{}"),this.userImage=this.userDetails.imagePath?p.x.BASE_USERS_IMAGES_PATH+this.userDetails.imagePath:"assets/images/user.webp",this.firstName=this.userDetails.firstName,this.lastName=this.userDetails.lastName,this.emailId=this.userDetails.email,this.fullName=`${this.firstName} ${this.lastName}`}upload(i){if(!i||0===i.length)return;const a=i[0];if(!a.type.match(/image\/*/))return this._toaster.error("Please Upload a Valid Image!","Profile Image"),void this.resetImageInput();this.fileToUpload=a;const o=new FileReader;o.onload=()=>{this.addedImagePath=o.result},o.readAsDataURL(a)}changePic(){if(!this.fileToUpload)return void this._toaster.error("Please upload an image","Profile Image");const i=new FormData;i.append("Id",this.userDetails.id),i.append("Image",this.fileToUpload,this.fileToUpload.name),this._http.postImage(`${f.N.BASE_API_PATH}UserMaster/UpdateProfile/`,i).subscribe(a=>{a.isSuccess?(this._toaster.success("Profile Image Updated Successfully!","Profile"),this.userImage=this.addedImagePath,localStorage.setItem("userDetails",JSON.stringify(this.userDetails)),p.x.profileImage$.next(this.userImage),this.resetImageInput()):this._toaster.error(a.errors[0],"Profile")})}tabChange(){this.resetImageInput()}resetImageInput(){this.elFile.nativeElement.value="",this.addedImagePath="assets/images/noimage.png",this.fileToUpload=null}};let n=e;return e.\u0275fac=function(a){return new(a||e)(t.Y36(h.O),t.Y36(u._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-profile"]],viewQuery:function(a,o){if(1&a&&t.Gf(b,5),2&a){let c;t.iGM(c=t.CRH())&&(o.elFile=c.first)}},decls:31,vars:4,consts:[[1,"container-fluid","mt-3"],[1,"row"],[1,"col-xl-4"],[1,"card","profile-card","p-3"],[1,"text-center"],["alt","User",1,"profile-image",3,"src"],[1,"mt-3","mb-0"],[1,"text-muted"],[1,"social","mt-3"],[1,"form-group"],[1,"btn","social-btn","btn-fb"],[1,"fab","fa-facebook-f"],[1,"btn","social-btn","btn-google"],[1,"fab","fa-google"],[1,"btn","social-btn","btn-twitter"],[1,"fab","fa-twitter"],[1,"col-xl-8"],[1,"card","tab2-card","p-3"],["ngbNav","","activeId","profiletab",1,"nav-tabs",3,"navChange"],["nav","ngbNav"],["ngbNavItem","profiletab"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","settingtab"],[3,"ngbNavOutlet"],[1,"f-w-600"],[1,"table","table-borderless","mt-3"],[1,"fw-bold"],[1,"upload-container"],["type","file",1,"form-control",3,"change"],["file",""],[1,"btn","btn-primary","mt-2",3,"click"],["class","preview-box mx-auto mt-3",4,"ngIf"],[1,"preview-box","mx-auto","mt-3"],["alt","Preview",3,"src"]],template:function(a,o){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._UZ(5,"img",5),t.TgZ(6,"h5",6),t._uU(7),t.qZA(),t.TgZ(8,"span",7),t._uU(9),t.qZA(),t.TgZ(10,"div",8)(11,"div",9)(12,"button",10),t._UZ(13,"i",11),t.qZA(),t.TgZ(14,"button",12),t._UZ(15,"i",13),t.qZA(),t.TgZ(16,"button",14),t._UZ(17,"i",15),t.qZA()()()()()(),t.TgZ(18,"div",16)(19,"div",17)(20,"ul",18,19),t.NdJ("navChange",function(){return o.tabChange()}),t.TgZ(22,"li",20)(23,"a",21),t._uU(24,"Profile"),t.qZA(),t.YNc(25,x,19,3,"ng-template",22),t.qZA(),t.TgZ(26,"li",23)(27,"a",21),t._uU(28,"Upload Image"),t.qZA(),t.YNc(29,P,6,1,"ng-template",22),t.qZA()(),t._UZ(30,"div",24),t.qZA()()()()),2&a){const c=t.MAs(21);t.xp6(5),t.Q6J("src",o.userImage,t.LSH),t.xp6(2),t.Oqu(o.fullName),t.xp6(2),t.Oqu(o.emailId),t.xp6(21),t.Q6J("ngbNavOutlet",c)}},dependencies:[g.O5,l.uN,l.Pz,l.nv,l.Is,l.Vx,l.tO,l.Dy],styles:[".profile-card[_ngcontent-%COMP%]{border-radius:20px;overflow:hidden;box-shadow:0 8px 20px #00000014;background:#ffffff;transition:all .3s ease}.profile-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.profile-image[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;object-fit:cover;border:4px solid #f1f1f1;box-shadow:0 3px 10px #00000026}.btn-showcase[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:0 4px;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:.3s}.btn-fb[_ngcontent-%COMP%]{background:#3b5998;color:#fff}.btn-google[_ngcontent-%COMP%]{background:#dd4b39;color:#fff}.btn-twitter[_ngcontent-%COMP%]{background:#1da1f2;color:#fff}.btn-showcase[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);opacity:.9}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #e9ecef}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:600}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border-bottom:3px solid #7366ff!important}.upload-container[_ngcontent-%COMP%]{border:2px dashed #ccc;padding:15px;border-radius:12px;text-align:center;transition:.3s}.upload-container[_ngcontent-%COMP%]:hover{border-color:#7366ff}.preview-box[_ngcontent-%COMP%]{margin-top:15px;max-width:250px;max-height:250px;overflow:hidden;border-radius:12px;border:1px solid #e0e0e0;box-shadow:0 4px 10px #00000014}.preview-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}"]}),n})()}]}];let I=(()=>{const e=class{};let n=e;return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(Z),m.Bz]}),n})();var _=s(4466);let C=(()=>{const e=class{};let n=e;return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,I,_.m,l.Oz]}),n})()}}]);